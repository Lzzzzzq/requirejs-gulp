# 前端自动化构建及代码规范

## 一、代码管理工具
* 使用gitlab替代原先的fillZilla对前端代码进行管理    
* git的使用可参考[git教程](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)

### git使用约定：
* PC项目统一放在front的目录下
* 常规的业务开发都在非master的分支进行开发，分支名约定：项目名+开发内容+日期（日期为年月日). 例如：项目名称为PC，那么当需要开发PC的一个新的需求的时候可以使用'PC_TV_170225'的命名方式
* 在checkout分支的时候，以业务线的名称为基准去切换分支，例如：现在需要在'PC'的项目下新增需求，那么先将分支切到主干'master'上，然后切到'PC'的分支，再在PC分支的基础上新建分支'PC_TV_170225'，后续的相关迭代工作都将在此分支上进行开发

## 二、项目工程化
* PC端的项目今后将使用gulp进行开发、编译、打包等功能，目录大致如下
所有的项目都会在'src'目录中，每个项目会单独拥有一个文件夹，每个项目中又分为'js','less','images','templates'和html文件

### 目录说明：
* 每个html文件都会对应拥有一个less和一个js文件的入口文件
* 'js'目录中用于存放所有项目中的js文件，其中'js'目录下还有一个用于存放项目公用组件的目录'component'，平时开发的一个js，jquery插件可以放在此目录下
* 'less'目录中用于存放所有项目中的less文件，其中'less'目录下还有一个用于存放项目公用样式的目录'public'，一些像cssReset，global这样的样式文件可以放在此目录下
* 'images'目录用于存放平时项目中的图片
* 'templates'目录用于存放一些公用的html模板，便于重复使用
* 所有的文件最终会被打包，编译到dist目录下，dist目录中的文件路径与开发目录src下的路径保持一致

## 三、自动化工具gulp的使用说明
* gulp是基于nodejs开发的一套专门用于前端自动化构建的工具

[安装nodejs](http://blog.csdn.net/xxmeng2012/article/details/51492149)，通过控制台进入到front目录下，输入命令````npm install````安装所有项目的依赖包文件

### gulp做了哪些事？
* 本地启动服务器，便于本地开发调试
* 编译开发目录下的所有文件，例如：将html模板转化为最终的html，less文件编译成css和min.css文件，模块化开发的js文件进行编译打包压缩，图片进行压缩处理,一些样式中的小图会直接转成base64的字符格式等

### gulp的使用
* 对所有目录进行编译，使用命令````gulp build````。由于平时开发中，并不需要每次都对整个front目录中的文件进行编译，而只需要对当前的开发目录（比如PC）中的文件进行编译，那么输入命令````gulp build -f PC```` ，于是gulp只会对dist目录下的PC文件进行重新编译
* 本地启动开发服务器,使用命令````gulp server````

PS.gulp的构建工具目前只是beta版本，后面会根据工作中遇到的情况进行持续的优化